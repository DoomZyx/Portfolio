import{f as g,r as L,u as ge,j as u}from"./index-C9meSc6a.js";import{P as m}from"./index-D5BUH1gY.js";import{O as ve}from"./Observer-DD1EoPTd.js";function ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,o)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ce(Object(r),!0).forEach(function(o){me(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function Q(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Q=function(e){return typeof e}:Q=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(t)}function me(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ee(t,e){if(t==null)return{};var r={},o=Object.keys(t),i,s;for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function be(t,e){if(t==null)return{};var r=Ee(t,e),o,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)o=s[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function Ce(t,e){return xe(t)||Se(t,e)||Oe(t,e)||je()}function xe(t){if(Array.isArray(t))return t}function Se(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var o=[],i=!0,s=!1,f,v;try{for(r=r.call(t);!(i=(f=r.next()).done)&&(o.push(f.value),!(e&&o.length===e));i=!0);}catch(l){s=!0,v=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw v}}return o}}function Oe(t,e){if(t){if(typeof t=="string")return ue(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(t,e)}}function ue(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=function(e,r,o){var i=!!o,s=g.useRef(o);g.useEffect(function(){s.current=o},[o]),g.useEffect(function(){if(!i||!e)return function(){};var f=function(){s.current&&s.current.apply(s,arguments)};return e.on(r,f),function(){e.off(r,f)}},[i,r,e,s])},we=function(e){var r=g.useRef(e);return g.useEffect(function(){r.current=e},[e]),r.current},Z=function(e){return e!==null&&Q(e)==="object"},de="[object Object]",Ae=function t(e,r){if(!Z(e)||!Z(r))return e===r;var o=Array.isArray(e),i=Array.isArray(r);if(o!==i)return!1;var s=Object.prototype.toString.call(e)===de,f=Object.prototype.toString.call(r)===de;if(s!==f)return!1;if(!s&&!o)return e===r;var v=Object.keys(e),l=Object.keys(r);if(v.length!==l.length)return!1;for(var p={},S=0;S<v.length;S+=1)p[v[S]]=!0;for(var w=0;w<l.length;w+=1)p[l[w]]=!0;var h=Object.keys(p);if(h.length!==v.length)return!1;var R=e,N=r,F=function(U){return t(R[U],N[U])};return h.every(F)},ke=function(e,r,o){return Z(e)?Object.keys(e).reduce(function(i,s){var f=!Z(r)||!Ae(e[s],r[s]);return o.includes(s)?(f&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):f?le(le({},i||{}),{},me({},s,e[s])):i},null):null},he=g.createContext(null);he.displayName="ElementsContext";var Pe=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e};m.any,m.object;m.func.isRequired;var ye=g.createContext(null);ye.displayName="CheckoutSdkContext";var Ne=function(e,r){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return e},_e=g.createContext(null);_e.displayName="CheckoutContext";m.any,m.shape({fetchClientSecret:m.func.isRequired,elementsOptions:m.object}).isRequired;var fe=function(e){var r=g.useContext(ye),o=g.useContext(he);if(r&&o)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?Ne(r,e):Pe(o,e)},Re=["mode"],Ie=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},E=function(e,r){var o="".concat(Ie(e),"Element"),i=function(l){var p=l.id,S=l.className,w=l.options,h=w===void 0?{}:w,R=l.onBlur,N=l.onFocus,F=l.onReady,W=l.onChange,U=l.onEscape,H=l.onClick,X=l.onLoadError,I=l.onLoaderStart,ee=l.onNetworksChange,te=l.onConfirm,re=l.onCancel,ne=l.onShippingAddressChange,oe=l.onShippingRateChange,Y=fe("mounts <".concat(o,">")),$="elements"in Y?Y.elements:null,_="checkoutSdk"in Y?Y.checkoutSdk:null,q=g.useState(null),z=Ce(q,2),x=z[0],V=z[1],A=g.useRef(null),J=g.useRef(null);j(x,"blur",R),j(x,"focus",N),j(x,"escape",U),j(x,"click",H),j(x,"loaderror",X),j(x,"loaderstart",I),j(x,"networkschange",ee),j(x,"confirm",te),j(x,"cancel",re),j(x,"shippingaddresschange",ne),j(x,"shippingratechange",oe),j(x,"change",W);var D;F&&(e==="expressCheckout"?D=F:D=function(){F(x)}),j(x,"ready",D),g.useLayoutEffect(function(){if(A.current===null&&J.current!==null&&($||_)){var a=null;if(_)switch(e){case"payment":a=_.createPaymentElement(h);break;case"address":if("mode"in h){var c=h.mode,d=be(h,Re);if(c==="shipping")a=_.createShippingAddressElement(d);else if(c==="billing")a=_.createBillingAddressElement(d);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":a=_.createExpressCheckoutElement(h);break;case"currencySelector":a=_.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else $&&(a=$.create(e,h));A.current=a,V(a),a&&a.mount(J.current)}},[$,_,h]);var n=we(h);return g.useEffect(function(){if(A.current){var a=ke(h,n,["paymentRequest"]);a&&"update"in A.current&&A.current.update(a)}},[h,n]),g.useLayoutEffect(function(){return function(){if(A.current&&typeof A.current.destroy=="function")try{A.current.destroy(),A.current=null}catch{}}},[]),g.createElement("div",{id:p,className:S,ref:J})},s=function(l){fe("mounts <".concat(o,">"));var p=l.id,S=l.className;return g.createElement("div",{id:p,className:S})},f=r?s:i;return f.propTypes={id:m.string,className:m.string,onChange:m.func,onBlur:m.func,onFocus:m.func,onReady:m.func,onEscape:m.func,onClick:m.func,onLoadError:m.func,onLoaderStart:m.func,onNetworksChange:m.func,onConfirm:m.func,onCancel:m.func,onShippingAddressChange:m.func,onShippingRateChange:m.func,options:m.object},f.displayName=o,f.__elementType=e,f},b=typeof window>"u",Te=g.createContext(null);Te.displayName="EmbeddedCheckoutProviderContext";E("auBankAccount",b);var Fe=E("card",b);E("cardNumber",b);E("cardExpiry",b);E("cardCvc",b);E("fpxBank",b);E("iban",b);E("idealBank",b);E("p24Bank",b);E("epsBank",b);E("payment",b);E("expressCheckout",b);E("currencySelector",b);E("paymentRequestButton",b);E("linkAuthentication",b);E("address",b);E("shippingAddress",b);E("paymentMethodMessaging",b);E("affirmMessage",b);E("afterpayClearpayMessage",b);var ae,pe;function De(){if(pe)return ae;pe=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i=(n,a)=>{for(var c in a)t(n,c,{get:a[c],enumerable:!0})},s=(n,a,c,d)=>{if(typeof a=="object"||typeof a=="function")for(let C of r(a))!o.call(n,C)&&C!==c&&t(n,C,{get:()=>a[C],enumerable:!(d=e(a,C))||d.enumerable});return n},f=n=>s(t({},"__esModule",{value:!0}),n),v=(n,a,c)=>new Promise((d,C)=>{var O=P=>{try{k(c.next(P))}catch(B){C(B)}},T=P=>{try{k(c.throw(P))}catch(B){C(B)}},k=P=>P.done?d(P.value):Promise.resolve(P.value).then(O,T);k((c=c.apply(n,a)).next())}),l={};i(l,{SubmissionError:()=>I,appendExtraData:()=>q,createClient:()=>A,getDefaultClient:()=>J,isSubmissionError:()=>X}),ae=f(l);var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function w(n){n=String(n);for(var a,c,d,C,O="",T=0,k=n.length%3;T<n.length;){if((c=n.charCodeAt(T++))>255||(d=n.charCodeAt(T++))>255||(C=n.charCodeAt(T++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a=c<<16|d<<8|C,O+=p.charAt(a>>18&63)+p.charAt(a>>12&63)+p.charAt(a>>6&63)+p.charAt(a&63)}return k?O.slice(0,k-3)+"===".substring(k):O}function h(n){if(n=String(n).replace(/[\t\n\f\r ]+/g,""),!S.test(n))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));for(var a,c="",d,C,O=0;O<n.length;)a=p.indexOf(n.charAt(O++))<<18|p.indexOf(n.charAt(O++))<<12|(d=p.indexOf(n.charAt(O++)))<<6|(C=p.indexOf(n.charAt(O++))),c+=d===64?String.fromCharCode(a>>16&255):C===64?String.fromCharCode(a>>16&255,a>>8&255):String.fromCharCode(a>>16&255,a>>8&255,a&255);return c}var R=()=>navigator.webdriver||!!document.documentElement.getAttribute(h("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,N=class{constructor(){this.loadedAt=Date.now(),this.webdriver=R()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},F=class{constructor(n){this.kind="success",this.next=n.next}};function W(n){return"next"in n&&typeof n.next=="string"}var U=class{constructor(n,a){this.paymentIntentClientSecret=n,this.resubmitKey=a,this.kind="stripePluginPending"}};function H(n){if("stripe"in n&&"resubmitKey"in n&&typeof n.resubmitKey=="string"){let{stripe:a}=n;return typeof a=="object"&&a!=null&&"paymentIntentClientSecret"in a&&typeof a.paymentIntentClientSecret=="string"}return!1}function X(n){return n.kind==="error"}var I=class{constructor(...n){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var a;for(let c of n){if(!c.field){this.formErrors.push({code:c.code&&ee(c.code)?c.code:"UNSPECIFIED",message:c.message});continue}let d=(a=this.fieldErrors.get(c.field))!=null?a:[];d.push({code:c.code&&re(c.code)?c.code:"UNSPECIFIED",message:c.message}),this.fieldErrors.set(c.field,d)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(n){var a;return(a=this.fieldErrors.get(n))!=null?a:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function ee(n){return n in te}var te={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function re(n){return n in ne}var ne={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function oe(n){return"errors"in n&&Array.isArray(n.errors)&&n.errors.every(a=>typeof a.message=="string")||"error"in n&&typeof n.error=="string"}var Y="4.0.0",$=n=>w(JSON.stringify(n)),_=n=>{let a=`@formspree/core@${Y}`;return n?`${n} ${a}`:a};function q(n,a,c){n instanceof FormData?n.append(a,c):n[a]=c}function z(n){return n!==null&&typeof n=="object"}var x=class{constructor(n={}){this.project=n.project,this.stripe=n.stripe,typeof window<"u"&&(this.session=new N)}submitForm(n,a){return v(this,arguments,function*(c,d,C={}){let O=C.endpoint||"https://formspree.io",T=this.project?`${O}/p/${this.project}/f/${c}`:`${O}/f/${c}`,k={Accept:"application/json","Formspree-Client":_(C.clientName)};this.session&&(k["Formspree-Session-Data"]=$(this.session.data())),d instanceof FormData||(k["Content-Type"]="application/json");function P(K){return v(this,null,function*(){try{let y=yield(yield fetch(T,{method:"POST",mode:"cors",body:K instanceof FormData?K:JSON.stringify(K),headers:k})).json();if(z(y)){if(oe(y))return Array.isArray(y.errors)?new I(...y.errors):new I({message:y.error});if(H(y))return new U(y.stripe.paymentIntentClientSecret,y.resubmitKey);if(W(y))return new F({next:y.next})}return new I({message:"Unexpected response format"})}catch(y){let G=y instanceof Error?y.message:`Unknown error while posting to Formspree: ${JSON.stringify(y)}`;return new I({message:G})}})}if(this.stripe&&C.createPaymentMethod){let K=yield C.createPaymentMethod();if(K.error)return new I({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});q(d,"paymentMethod",K.paymentMethod.id);let y=yield P(d);if(y.kind==="error")return y;if(y.kind==="stripePluginPending"){let G=yield this.stripe.handleCardAction(y.paymentIntentClientSecret);if(G.error)return new I({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});d instanceof FormData?d.delete("paymentMethod"):delete d.paymentMethod,q(d,"paymentIntent",G.paymentIntent.id),q(d,"resubmitKey",y.resubmitKey);let se=yield P(d);return V(se),se}return y}let B=yield P(d);return V(B),B})}};function V(n){let{kind:a}=n;if(a!=="success"&&a!=="error")throw new Error(`Unexpected submission result (kind: ${a})`)}var A=n=>new x(n),J=()=>(D||(D=A()),D),D;return ae}var ie=De();function M(t){let{prefix:e,field:r,errors:o,...i}=t;if(o==null)return null;let s=r?o.getFieldErrors(r):o.getFormErrors();return s.length===0?null:g.createElement("div",{...i},e?`${e} `:null,s.map(f=>f.message).join(", "))}var Me=L.createContext({elements:null});function Le(){return L.useContext(Me)}var Ue=g.createContext(null);function Ye(){return L.useContext(Ue)??{client:ie.getDefaultClient()}}var $e="3.0.0",qe=`@formspree/react@${$e}`;function Be(t,e={}){let r=Ye(),{client:o=r.client,extraData:i,origin:s}=e,{elements:f}=Le(),{stripe:v}=o;return async function(l){let p=Ke(l)?Je(l):l;if(typeof i=="object")for(let[h,R]of Object.entries(i)){let N;typeof R=="function"?N=await R():N=R,N!==void 0&&ie.appendExtraData(p,h,N)}let S=f==null?void 0:f.getElement(Fe),w=v&&S?()=>v.createPaymentMethod({type:"card",card:S,billing_details:We(p)}):void 0;return o.submitForm(t,p,{endpoint:s,clientName:qe,createPaymentMethod:w})}}function Ke(t){return"preventDefault"in t&&typeof t.preventDefault=="function"}function Je(t){t.preventDefault();let e=t.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function We(t){let e={address:ze(t)};for(let r of["name","email","phone"]){let o=t instanceof FormData?t.get(r):t[r];o&&typeof o=="string"&&(e[r]=o)}return e}function ze(t){let e={};for(let[r,o]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let i=t instanceof FormData?t.get(r):t[r];i&&typeof i=="string"&&(e[o]=i)}return e}function Ve(t,e={}){let[r,o]=L.useState(null),[i,s]=L.useState(null),[f,v]=L.useState(!1),[l,p]=L.useState(!1),S=Be(t,{client:e.client,extraData:e.data,origin:e.endpoint});return[{errors:r,result:i,submitting:f,succeeded:l},async function(w){v(!0);let h=await S(w);v(!1),ie.isSubmissionError(h)?(o(h),p(!1)):(o(null),s(h),p(!0))},function(){o(null),s(null),v(!1),p(!1)}]}function He(){const{t}=ge(),[e,r]=ve(),[o,i]=Ve("mnnpvggb");return o.succeeded?u.jsx("h2",{className:"msg-rtv",children:t("form-success")}):u.jsx(u.Fragment,{children:u.jsxs("section",{ref:e,className:`layout-contact ${r?"active":""}`,id:"contact",children:[u.jsxs("h2",{className:"contact-title",children:[" ",t("contactme-title")," "]}),u.jsxs("h3",{className:"contact-text",children:[" ",t("contactme-text")," "]}),u.jsxs("form",{onSubmit:i,children:[u.jsxs("div",{className:"name-field",children:[u.jsx("label",{className:"sr-only",htmlFor:"nom",children:"Nom"}),u.jsx("input",{type:"text",name:"name",id:"nom",placeholder:t("placeholder-name"),required:!0}),u.jsx(M,{prefix:"Name",field:"name",errors:o.errors}),u.jsx("label",{className:"sr-only",htmlFor:"prenom",children:"Prénom"}),u.jsx("input",{type:"text",name:"surname",id:"prenom",placeholder:t("placeholder-surname"),required:!0}),u.jsx(M,{prefix:"Surname",field:"surname",errors:o.errors})]}),u.jsxs("div",{className:"com-field",children:[u.jsx("label",{className:"sr-only",htmlFor:"email",children:"email"}),u.jsx("input",{type:"email",name:"email",id:"email",placeholder:t("placeholder-mail"),required:!0}),u.jsx(M,{prefix:"Email",field:"email",errors:o.errors}),u.jsx("label",{className:"sr-only",htmlFor:"phone",children:"Téléphone"}),u.jsx("input",{type:"tel",name:"phone",id:"phone",placeholder:t("placeholder-phone"),required:!0}),u.jsx(M,{prefix:"Phone",field:"phone",errors:o.errors})]}),u.jsx("label",{className:"sr-only",htmlFor:"subject",children:"Motif"}),u.jsx("input",{type:"text",name:"subject",id:"subject",placeholder:t("placeholder-object"),required:!0}),u.jsx(M,{prefix:"Subject",field:"subject",errors:o.errors}),u.jsx("label",{className:"sr-only",htmlFor:"message",children:"Message"}),u.jsx("textarea",{name:"message",id:"message",rows:15,placeholder:t("placeholder-request"),required:!0}),u.jsx(M,{prefix:"Message",field:"message",errors:o.errors}),u.jsxs("div",{className:"checkbox",children:[u.jsx("input",{type:"checkbox",name:"data",id:"data",required:!0}),u.jsxs("label",{htmlFor:"data",children:[" ",t("label-form")," "]}),u.jsx(M,{prefix:"Consent",field:"data",errors:o.errors})]}),u.jsx("input",{"aria-label":"Envoyer",type:"submit",value:t("send-but"),disabled:o.submitting})]})]})})}export{He as default};
